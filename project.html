<!-- Richard Davies, Data Science 2021 -->


<!-- ///////////////////  HEAD //////////////////////////////////// -->

<head>

      <!--The next three lines allow the Vega embed-->
      <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

     <!-- CSS -->
     <link rel="stylesheet" href="styles.css">

     <!-- Tab name -->
     <h1> Data Science</h1>


</head>


<!-- ///////////////////  START BODY //////////////////////////////////// -->
<body>
    <div class="navbuttons">
        <button class="button" style="vertical-align:middle" onclick="location.href='index.html'"><span>Portfolio </span></button>
        <button class="button" style="vertical-align:middle" onclick="location.href='project.html'"><span>Project </span></button>
      </div>
    
    
     <!-- main title colours in the styles.css -->
    
    <p class=title1> Charts by Juliet Cook</p>
    
    <p class=title2>My Project</p>
    

    <p class=title2>The International Labour Organization released a <a href="https://www.ilo.org/infostories/en-GB/Stories/Employment/barriers-women#persistent-barriers"> report </a>  in December 2017 titled “The gender gap in employment: What's holding women back?”. In which they state that “The current global labour force participation rate for women is close to 49%. For men, it’s 75%.”  Modern economic thought is that reducing gender gaps in labour force participation increases global GDP. For my project I aim to explore this topic by looking at females in the UK labour market and how the UK market compares globally.</p>

    <p class=title3><span class="bold"> UK's Labour Force Participation Rate </span></p>
    <p class=title4><span > I began by focusing on UK, by plotting an interactive graph showing the general trends in participation in the labour market from the 1990’s. This shows that whilst there is no real change in participation in the participation amongst the working age population, the percentage of the female population working has increased from 1990-2020. Initially to change the legend labels I used “Legend”:{“labelExpr”:”{}}. However, this did not change the values everywhere, so when I used tooltips the old labels still existed. Therefore, I had to use “transform” to change the values everywhere.  </span></p>
    <p class=title4><span > <a href=https://www.ilo.org/shinyapps/bulkexplorer16/?lang=en&segment=indicator&id=EAP_2WAP_SEX_AGE_RT_A&ref_area=GBR&sex=SEX_T+SEX_M+SEX_F&classif1=AGE_AGGREGATE_TOTAL&timefrom=1990&timeto=2020> Source </a>  </span></p>
    
    <div class="container">


     <!--Chart 1-->
     <div class="chart1" id="chart1">
        <script>
          var mychart1 = "Project/chart1.json";
          vegaEmbed('#chart1', mychart1);
        </script>
      </div>


    </div>


    
    <p class=title3><span class="bold"> Women's Labour Force Participation in the UK </span></p>
    <p class=title4><span > This interactive graph shows depending on marital statues female participation in the UK has changed from 1983–2019. Showing women’s participation has increased, with women who are single working less than those who are in a union.</span></p>
    <p class=title4><span > <a href=https://www.ilo.org/shinyapps/bulkexplorer24/?lang=en&segment=indicator&id=EAP_DWAP_SEX_AGE_MTS_RT_A&ref_area=GBR&sex=SEX_F&classif1=AGE_10YRBANDS_TOTAL&classif2=MTS_AGGREGATE_TOTAL+MTS_AGGREGATE_1+MTS_AGGREGATE_2&timefrom=1983&timeto=2019> Source </a> </span></p>
    <div class="container">

     <!--Chart 2-->
     <div class="chart1" id="chart2">
        <script>
          var mychart2 = "Project/chart2.json";
          vegaEmbed('#chart2', mychart2);
        </script>
      </div>


    </div>


    <p class=title3><span class="bold"> The percentage of the labour force which is female </span></p>
    <p class=title4><span > I then compared the UK’s female participation with Nepal, Yemen, and China. I got the data using an Api from the worldbank. Using the url_base I used python to loop the URLs for the four countries using their country codes. I used loops to request the data, format the data frames and then save then download the data frames as csv files.  </span></p>
    <p class=title4><span > <a href=https://api.worldbank.org/v2/country/{}/indicator/SL.TLF.TOTL.FE.ZS?format=json> api base </a> </span></p>
    <div class="container">

     <!-- Chart 3 percentage female labour force UK-->
      <div class="chart1" id="chart3a">
        <script>
          var mychart3a = "Portfolio/Week5/chart_percentfemale_GBR.json";
          vegaEmbed('#chart3a', mychart3a);
        </script>
      </div>

     <!--Chart 3 percentage female labour force Nepal -->
     <div class="chart1" id="chart3b">
        <script>
          var myChart3b = "Portfolio/Week5/chart_percentfemale_NP.json";
          vegaEmbed('#chart3b', myChart3b);
        </script>
      </div>

     <!-- Chart 3 percentage female labour force Yemen-->
     <div class="chart1" id="chart3c">
        <script>
          var myChart3c = "Portfolio/Week5/chart_percentfemale_YE.json";
          vegaEmbed('#chart3c', myChart3c);
        </script>
      </div>

     <!--Chart 3 percentage female labour force China -->
     <div class="chart1" id="chart3d">
        <script>
          var myChart3d = "Portfolio/Week5/chart_percentfemale_CN.json";
          vegaEmbed('#chart3d', myChart3d);
        </script>
      </div>

    </div>
    
    <p class=title3><span class="bold"> Women's Labour Force Participation Rate throughout Asia </span></p>
    <p class=title4><span > Due to the extreme difference shown between China and Yemen in the previous charts I made a choropleth map of Asia showing the percentage of females working from the female population from ages 15+ throughout Asia. To create the choropleth map of Asia I had to make sure that the country names in the data sets matched to create a topojson file, I did this by changing names in python. To use tooltip I had to create the fields “properties.epi”, and “properties.geounit” from properties, and then rename these to “Participation rate” and “Country” respectively. It can be seen there are large differences in countries in Asia with Yemen having 6.04% participation and Cambodia having 76.9%. </span></p>
    <p class=title4><span > <a href=https://databank.worldbank.org/source/gender-statistics> Source </a></span></p>

    <div class="container">

     <!--Chart 4-->
     <div class="chart1" id="chart4">
        <script>
          var myChart4 = "Project/chart4.json";
          vegaEmbed('#chart4', myChart4);
        </script>
      </div>


    </div>
     
    <p class=title3><span class="bold"> GDP vs Women's Labour Force Participation Rate </span></p>
    <p class=title4><span >This graph shows GDP vs Women’s Labour Force Participation. The regression line suggests that an increase in GDP per capita by $10,000 shows an increase in the percentage of women participating in the labour force by 3.99%. The regression has a R2 value of 0.227. Data for the GDP was scraped from <a href=https://www.worldometers.info/gdp/gdp-per-capita/> worldometers </a> </span></p>

    <div class="container">

     <!-- Chart 5  -->
      <div class="chart2" id="chart5">
        <script>
          var myChart5 = "Project/chart5.json";
          vegaEmbed('#chart5', myChart5);
        </script>
      </div>

    </div>
            
    <p class=title3><span class="bold">  Global Unemployment rates of Men vs Women from 1990 to 2020</span></p>
    <p class=title4><span > The initial scatter graph I made had all the counties at all dates having points and it was only when they were hovered when the year was revealed. I then managed to create 2 scales so that a range of dates could be displayed. This was still not clear what year was being shown or the change over the years, but by using "transform": [{"filter": "datum.Date==Date"}], and params I was able to combine the 2 scales to just one in which the year can be selected.  </span></p>
    <p class=title4><span > <a href=https://stats.oecd.org/index.aspx?queryid=54743#> Source </a> </span></p>

    <div class="container">

     <!-- Chart 6 -->
      <div class="chart2" id="chart6">
        <script>
          var myChart6 = "Project/chart6.json";
          vegaEmbed('#chart6', myChart6);
        </script>
      </div>


    </div>

    <p class=title3><span class="bold"> Choropleth map of Gender Gap </span></p>
    <p class=title4><span >The Gender Gap Index ranks countries according to calculated gender gap between women and men in four key areas: health, education, economy, and politics to gauge the state of gender equality in a country. It is based on 14 indicators within these topics. The Global Gender Gap report is published by The World Economic Forum, however I struggled to scrape the data from there pdf report, therefore I scraped the data from the Wikipedia page in which it has a table of all the countries Gender Gap Index since 2006. I had to create a topojson file with my data and the correct geounits and geometries. I used loops in Python to merge both these data from the gender gap index with a global topojson. 
 </span></p>
    <p class=title4><span > <a href=https://en.wikipedia.org/wiki/Global_Gender_Gap_Report> Wikipedia Page </a> </span></p>
    <div class="container">

     <!--Chart 5-->
     <div class="chart4" id="chart7">
        <script>
          var myChart7 = "Project/chart7.json";
          vegaEmbed('#chart7', myChart7);
        </script>
      </div>

    </div>

    <p class=title3><span class="bold"> Conclusion </span></p>
<p class=title4><span >To conclude, there are clear gender gaps within the labour force globally. Generally, it appears that the UK has smaller gap than many countries, this is consistent with a pattern of more developed countries having higher female participation. Although these charts do not explain the variables that effect female participation, they do show a correlation between countries with a higher GDP and more women in the labour force.</span></p>


    <footer></footer>

</body>
